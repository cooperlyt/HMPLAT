<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich" >

    <ui:include src="/layout/system/CardReader.xhtml"></ui:include>


    <s:decorate id="addressField" styleClass="form-group" template="/layout/edit-big.xhtml">
        <ui:define name="label">
            #{messages.AttachCorp_address}
        </ui:define>
        <ui:param name="for" value="addressInput"/>
        <h:inputTextarea rows="3" id="addressInput" styleClass="form-control"
                         label="#{messages.AttachCorp_address}"
                         value="#{attachCorpHome.instance.address}">

        </h:inputTextarea>

    </s:decorate>

    <s:decorate id="postCodeField" styleClass="form-group" template="/layout/edit-big.xhtml">
        <ui:define name="label">
            #{messages.AttachCorp_postCode}
        </ui:define>
        <ui:param name="for" value="postCodeInput"/>
        <h:inputText rows="3" id="postCodeInput" styleClass="form-control"
                     label="#{messages.AttachCorp_postCode}"
                     value="#{attachCorpHome.instance.postCode}"
                     maxlength="50"/>

    </s:decorate>


    <s:decorate id="corpLicenseField" styleClass="form-group" template="/layout/edit-big.xhtml">
        <ui:define name="label">
            #{messages.AttachCorp_licenseCode}
        </ui:define>
        <ui:param name="for" value="corpLicenseInput"/>
        <h:inputText rows="3" id="corpLicenseInput" styleClass="form-control"
                     label="#{messages.AttachCorp_licenseCode}"
                     value="#{attachCorpHome.instance.licenseNumber}"
                     maxlength="100"/>

    </s:decorate>

    <s:decorate id="corpCerField" styleClass="form-group" template="/layout/edit-big.xhtml">
        <ui:define name="label">
            #{messages.AttachCorp_cerCode}
        </ui:define>
        <ui:param name="for" value="corpCerInput"/>
        <h:inputText rows="3" id="corpCerInput" styleClass="form-control"
                     label="#{messages.AttachCorp_cerCode}"
                     value="#{attachCorpHome.instance.cerCode}"
                     maxlength="100"/>

    </s:decorate>


    <s:decorate id="phoneField" styleClass="form-group" template="/layout/edit.xhtml">
        <ui:define name="label">
            联系电话
        </ui:define>
        <ui:param name="for" value="phoneInput"/>
        <h:inputText label="#{messages.Tel}" size="30" maxlength="15"
                     styleClass="form-control" validatorMessage="#{messages.requiredPhoneValidator}"
                     value="#{attachCorpHome.instance.phone}"
                     id="phoneInput">
            <f:validateRegex
                    pattern="\+?(\d{2})?((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)"/>
            <r:validator event="blur"/>
        </h:inputText>

    </s:decorate>


    <ui:decorate template="/layout/system/PersonInput.xhtml">

        <ui:param name="label" value="#{messages.AttachCorp_owner}"/>
        <ui:param name="personEntityHelper" value="#{attachCorpHome.ownerPersonInstance}"/>
        <ui:param name="personStatus" value="#{attachCorpHome.ownerPersonInstance.uuid}_corp_owner"/>
        <ui:param name="allowCredentialsTypeList" value="#{personCredentialsTypes}"/>



        <s:decorate id="businessPersonPhoneField" styleClass="form-group" template="/layout/edit.xhtml">
            <ui:define name="label">
                #{messages.Tel}
            </ui:define>
            <ui:param name="for" value="bussinessPersionPhoneInput"/>
            <h:inputText label="#{messages.Tel}" size="30" maxlength="15"
                         styleClass="form-control" validatorMessage="#{messages.requiredPhoneValidator}"
                         value="#{attachCorpHome.instance.ownerTel}"
                         id="bussinessPersionPhoneInput">
                <f:validateRegex
                        pattern="\+?(\d{2})?((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)"/>
                <r:validator event="blur"/>
            </h:inputText>

        </s:decorate>
    </ui:decorate>


    <a:outputPanel ajaxRendered="true">
        <h:outputScript name="init.js"/>
    </a:outputPanel>


</ui:composition>