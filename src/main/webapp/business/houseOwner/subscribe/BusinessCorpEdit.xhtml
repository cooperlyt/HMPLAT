<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich">


  <s:decorate id="nameField" styleClass="form-group" template="/layout/edit-big.xhtml">
    <ui:define name="label">
      名称
    </ui:define>
    <ui:param name="for" value="nameInput"/>
    <ui:param name="status" value="idStatus"/>
    <div class="input-group">

      <span class="input-group-btn">
        <h:selectOneMenu value="#{corpEditSubscribe.corp.type}" required="true" id="corpTypeSelectInput"
                               styleClass="selectpicker select-menu-btn input-group-first">

        <s:selectItems value="#{corpTypes}" var="_type" noSelectionLabel="请选择机构种类"
                       label="#{dictionary.getEnumLabel(_type)}" itemValue="#{_type}"/>
        <s:convertEnum/>
      </h:selectOneMenu>
      </span>



      <h:inputText id="nameInput" required="true" styleClass="form-control" maxlength="100"
                   label="名称"
                   value="#{corpEditSubscribe.corp.name}">
        <f:validateRequired/>
      </h:inputText>

    </div>

  </s:decorate>


  <ui:decorate template="/layout/system/PersonInput.xhtml">

    <ui:param name="label" value="#{messages.AttachCorp_owner}"/>
    <ui:param name="personEntityHelper" value="#{corpEditSubscribe.ownerHelper}"/>
    <ui:param name="personStatus" value="#{corpEditSubscribe.ownerHelper.uuid}_owner"/>
    <ui:param name="allowCredentialsTypeList" value="#{personCredentialsTypes}"/>

    <ui:define name="values"></ui:define>
  </ui:decorate>


  <s:decorate id="phoneField" styleClass="form-group" template="/layout/edit.xhtml">
    <ui:define name="label">
      联系电话
    </ui:define>
    <ui:param name="for" value="phoneInput"/>
    <h:inputText label="#{messages.Tel}" size="30" maxlength="15" required="true"
                 styleClass="form-control" validatorMessage="#{messages.requiredPhoneValidator}"
                 value="#{corpEditSubscribe.corp.phone}"
                 id="phoneInput">
      <f:validateRegex
              pattern="\+?(\d{2})?((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)"/>
      <r:validator event="blur"/>
    </h:inputText>

  </s:decorate>

  <s:decorate id="corpLicenseField" styleClass="form-group" template="/layout/edit-big.xhtml">
    <ui:define name="label">
      #{messages.AttachCorp_licenseCode}
    </ui:define>
    <ui:param name="for" value="corpLicenseInput"/>
    <h:inputText rows="3" id="corpLicenseInput" styleClass="form-control"
                 required="true"
                 label="#{messages.AttachCorp_licenseCode}"
                 value="#{corpEditSubscribe.corp.licenseNumber}"
                 maxlength="100"/>

  </s:decorate>

  <s:decorate id="corpCerField" styleClass="form-group" template="/layout/edit-big.xhtml">
    <ui:define name="label">
      #{messages.AttachCorp_cerCode}
    </ui:define>
    <ui:param name="for" value="corpCerInput"/>
    <h:inputText rows="3" id="corpCerInput" styleClass="form-control"
                 label="#{messages.AttachCorp_cerCode}"
                 value="#{corpEditSubscribe.corp.cerCode}"
                 maxlength="100"/>

  </s:decorate>




  <s:decorate id="postCodeField" styleClass="form-group" template="/layout/edit-big.xhtml">
    <ui:define name="label">
      #{messages.AttachCorp_postCode}
    </ui:define>
    <ui:param name="for" value="postCodeInput"/>
    <h:inputText rows="3" id="postCodeInput" styleClass="form-control"
                 label="#{messages.AttachCorp_postCode}"
                 value="#{corpEditSubscribe.corp.postCode}"
                 maxlength="50"/>

  </s:decorate>

  <s:decorate id="addressField" styleClass="form-group" template="/layout/edit-big.xhtml">
    <ui:define name="label">
      #{messages.AttachCorp_address}
    </ui:define>
    <ui:param name="for" value="addressInput"/>
    <h:inputTextarea rows="3" id="addressInput" styleClass="form-control"
                     label="#{messages.AttachCorp_address}"
                     value="#{corpEditSubscribe.corp.address}">

    </h:inputTextarea>

  </s:decorate>


</ui:composition>